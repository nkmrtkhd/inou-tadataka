

---

# 面積算出のアルゴリズム #
InouTadatakaでは
  1. データ点をファイルから読み込み，x, y方向の最大値と最小値を決定．
  1. 各方向の最大値と最小値を用いて，閉曲線を含む最小の長方形を設定．
  1. 長方形を分割しグリッドを設定．
  1. 外周をグリッドに設定．(必要であれば，データ点の反時計回りのソートや凸包を行う)
  1. 閉曲面の内側を検出し，そのグリッド数をカウント．
  1. 面積をグリッド数×グリッドの単位面積として算出．
のアルゴリズムで面積を計算します．

## 反時計回りのソートとは ##
データ点は時計回りか反時計回りにソートされている必要があります．
しかし，データ点のサンプリングはランダムに行われ，データ点がソートされていない場合もあると思われます．
可能であれば，データファイルを生成する際にソートすべきですが，InouTadatakaの内部でもソートすることが出来ます．

## 凸包とは ##
最外の点のみを検出し，その最外点を線形につないで外周を決定します．

<a href='http://wiki.inou-tadataka.googlecode.com/git/img/convex.png'> <img src='http://wiki.inou-tadataka.googlecode.com/git/img/convex.png' width='400' /> </a>

凸包とは，包装紙でラッピングするイメージです．

## 内側とは(線幅が太い場合) ##
通常では，面積には線が含まれます．もしも線幅が太い場合は，線を含まない面積が計算したくなります．
そういう状況にも対応できます．

<a href='http://wiki.inou-tadataka.googlecode.com/git/img/inner.png'> <img src='http://wiki.inou-tadataka.googlecode.com/git/img/inner.png' width='400' /> </a>




# 雑文 #
面積を測る場合は，
  * 三角形分割：ヘロンの公式
  * リーマン積分：台形公式
  * アルキメデス方式：溢れ出る体積
が考えられます．
三角形分割は分割の仕方に任意性がある事，リーマン積分は閉曲線の関数表示が必要な事を理由に，本プログラムではアルキメデス方式で計算します．アルキメデス方式ならば，グリッドを使って閉曲線の内側を定義できるため，簡単に実装でき，メモリの許す限り細かいグリッドを使う事で精度を上げられる利点があります．


またデータ点は有限であるため，細かいグリッドを用いる場合はなんらかの補間をする必要があります．
世の中には様々な補間方法が存在しますが，本プログラムでは簡単の為にデータ点同士を線形に補間するのみです．
**閉曲線の正確な定義が必要な場合は，データ点の有意なサンプリング数を増やして下さい．**